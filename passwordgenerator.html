<!--


    
-->

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Password Generator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="css/modern.css" />
    
</head>
<body>
<div id="wrapper">
    <h1>Generate password</h1>
    <input type="text" id="passwordout">
    <button id="passwordgen">Generate</button>
    <button id="passwordcopy">Copy to Clipboard</button>

    <input type="number" id="minlength">
    <input type="number" id="maxlength">


<script>
// DECLARATIONS
const passwordOut   = document.querySelector('#passwordout');
const generateBtn   = document.querySelector('#passwordgen');
const copyBtn       = document.querySelector('#passwordcopy');
const minInput      = document.querySelector('#minlength');
const maxInput      = document.querySelector('#maxlength');
let   min           = 0;
let   max           = 0;



function generatePassword(min = 10, max = 20){
  // FUNCTION DECLARATIONS
  
  // RANDOM LENGTH
  const len = Math.random() * (max - min) + min;
  console.log(len);
  // AVAILABLE CHARS FOR PASSWORD
  const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
  let text = "";
  
  for(let i = 0; i < len; i++){
    // GET A RANDOM CHAR BETWEEN 0 AND CHAR LENGTH
    text += chars.charAt(Math.floor(Math.random() * chars.length));
  }
  passwordOut.value = text;
}

function copyPassword(){
  // HIGHLIGHT THE TEXTBOX AND THEN COPY
  passwordOut.select();
  document.execCommand("copy");
}

function getValues(){
    if (minInput.value.length != 0){
        console.log(`Min value: ${minInput.value}`);
        min = parseInt(minInput.value);
    };
    if (maxInput.value.length != 0){
        console.log(`Max value: ${maxInput.value}`);
        max = parseInt(maxInput.value);
    };
}

generateBtn.addEventListener('click', function(){
    getValues();
    generatePassword(min, max);
});
copyBtn.addEventListener('click', copyPassword);


</script>
</div>
</body>
</html>